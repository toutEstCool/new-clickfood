# ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³Ğ° - Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

## ğŸ“‹ ĞĞ±Ñ‰Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ providers/
â”‚       â””â”€â”€ Router/
â”‚           â”œâ”€â”€ config/
â”‚           â”‚   â””â”€â”€ routeConfig.tsx          âœ… ĞĞ¾Ğ²Ğ°Ñ (Nested Routes)
â”‚           â”œâ”€â”€ guards/
â”‚           â”‚   â”œâ”€â”€ ProtectedRoute.tsx       âœ… ĞĞ¾Ğ²Ñ‹Ğ¹ (Protected Routes)
â”‚           â”‚   â””â”€â”€ PublicRoute.tsx          âœ… ĞĞ¾Ğ²Ñ‹Ğ¹ (Public Routes)
â”‚           â”œâ”€â”€ ui/
â”‚           â”‚   â””â”€â”€ AppRouter.tsx            âœ… ĞĞ¾Ğ²Ñ‹Ğ¹ (useRoutes)
â”‚           â”œâ”€â”€ utils/
â”‚           â”‚   â”œâ”€â”€ ScrollToTop.tsx          âœ… Scroll utility
â”‚           â”‚   â””â”€â”€ hooks.ts                 âœ… Router hooks
â”‚           â”œâ”€â”€ README.md                    ğŸ“– Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚           â”œâ”€â”€ EXAMPLES.md                  ğŸ“– ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹
â”‚           â”œâ”€â”€ MIGRATION.md                 ğŸ“– Ğ“Ğ°Ğ¹Ğ´ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚           â”œâ”€â”€ SUMMARY.md                   ğŸ“– ĞšÑ€Ğ°Ñ‚ĞºĞ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ
â”‚           â””â”€â”€ ARCHITECTURE.md              ğŸ“– Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
â”‚
â””â”€â”€ shared/
    â”œâ”€â”€ types/
    â”‚   â””â”€â”€ router.ts                        âœ… Ğ¢Ğ¸Ğ¿Ñ‹ Ñ€Ğ¾ÑƒÑ‚Ğ¸Ğ½Ğ³Ğ°
    â””â”€â”€ layouts/
        â”œâ”€â”€ RootLayout/                      âœ… ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ layout
        â”œâ”€â”€ WebAppLayout/                    âœ… WebApp layout
        â”œâ”€â”€ SuperadminLayout/                âœ… Admin layout
        â”œâ”€â”€ MainLayout/                      âœ… Partner layout
        â””â”€â”€ OrderLayout/                     âœ… Order flow layout
```

## ğŸ­ Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Layouts

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RootLayout                          â”‚
â”‚  â€¢ Global ErrorBoundary                                 â”‚
â”‚  â€¢ Toast notifications                                  â”‚
â”‚  â€¢ Global modals                                        â”‚
â”‚  â€¢ Root Suspense                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      WebAppLayout            â”‚
        â”‚  â€¢ Main Navigation           â”‚
        â”‚  â€¢ Header Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ¼          â”‚
        â”‚  â€¢ Bottom navigation         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                             â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SuperadminLayout â”‚    â”‚  PartnerLayout   â”‚   â”‚   OrderLayout    â”‚
â”‚                  â”‚    â”‚                  â”‚   â”‚                  â”‚
â”‚ â€¢ Admin Sidebar  â”‚    â”‚ â€¢ Partner Sidebarâ”‚   â”‚ â€¢ Order Stepper  â”‚
â”‚ â€¢ Admin Header   â”‚    â”‚ â€¢ Partner Header â”‚   â”‚ â€¢ Cart Summary   â”‚
â”‚ â€¢ Breadcrumbs    â”‚    â”‚ â€¢ Quick Actions  â”‚   â”‚ â€¢ Back Button    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒ³ Ğ”ĞµÑ€ĞµĞ²Ğ¾ Ñ€Ğ¾ÑƒÑ‚Ğ¾Ğ²

```
/ (RootLayout)
â”œâ”€â”€ index â†’ MainPage
â”‚
â””â”€â”€ webapp/ (WebAppLayout)
    â”œâ”€â”€ index â†’ WebAppHomePage
    â”œâ”€â”€ profile â†’ ProfilePage
    â”œâ”€â”€ privacy-policy â†’ PrivacyPolicyPage
    â”œâ”€â”€ public-offer â†’ PublicOfferPage
    â”œâ”€â”€ fallback â†’ FallbackPage
    â”œâ”€â”€ tops â†’ TopGroupsPage
    â”‚
    â”œâ”€â”€ superadmin/ (SuperadminLayout) ğŸ”’ [SUPERADMIN]
    â”‚   â”œâ”€â”€ index â†’ SuperadminHomePage
    â”‚   â”œâ”€â”€ shops â†’ SuperadminShopsPage
    â”‚   â”œâ”€â”€ create â†’ SuperadminCreatePage
    â”‚   â””â”€â”€ takeover â†’ SuperadminTakeoverPage
    â”‚
    â”œâ”€â”€ partner/ (PartnerLayout) ğŸ”’ [PARTNER]
    â”‚   â”œâ”€â”€ index â†’ PartnerHomePage
    â”‚   â”œâ”€â”€ create â†’ PartnerCreatePage
    â”‚   â”œâ”€â”€ menu/
    â”‚   â”‚   â”œâ”€â”€ form â†’ PartnerMenuFormPage
    â”‚   â”‚   â”œâ”€â”€ modifier â†’ PartnerMenuModifierPage
    â”‚   â”‚   â””â”€â”€ list â†’ PartnerMenuListPage
    â”‚   â”œâ”€â”€ report â†’ PartnerReportPage
    â”‚   â””â”€â”€ iiko â†’ PartnerIikoPage
    â”‚
    â””â”€â”€ order/ (OrderLayout) ğŸ”’ [AUTH]
        â”œâ”€â”€ index â†’ OrderRootPage
        â”œâ”€â”€ shops â†’ OrderShopsPage
        â”œâ”€â”€ menu â†’ OrderMenuPage
        â””â”€â”€ checkout â†’ OrderCheckoutPage
```

**Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ°:**
- ğŸ”’ [ROLE] - Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ğ¾ guard Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ Ñ€Ğ¾Ğ»Ğ¸
- ğŸ”’ [AUTH] - Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

## ğŸ›¡ï¸ Guards Flow

### ProtectedRoute Guard

```
User navigates to /webapp/partner
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ProtectedRoute  â”‚
     â”‚  roles=[PARTNER]â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
        â”‚           â”‚
    âŒ Not Auth  âœ… Auth
        â”‚           â”‚
        â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
        â”‚      â”‚         â”‚
        â”‚   âŒ Wrong  âœ… Correct
        â”‚     Role      Role
        â”‚      â”‚         â”‚
        â–¼      â–¼         â–¼
    Redirect  Redirect  Render
    to /    to /403    <Outlet />
```

### PublicRoute Guard

```
User navigates to /login
              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   PublicRoute   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
        â”‚           â”‚
    âœ… Not Auth  âŒ Auth
        â”‚           â”‚
        â–¼           â–¼
     Render      Redirect
   <Outlet />   to /webapp
```

## ğŸ”„ Navigation Flow

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: ĞĞ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ Ğ² Partner Menu Form

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ ĞºĞ»Ğ¸ĞºĞ°ĞµÑ‚:
   <Link to="/webapp/partner/menu/form">

2. React Router Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚:
   / â†’ RootLayout
   â””â”€â”€ webapp â†’ WebAppLayout
       â””â”€â”€ partner â†’ ProtectedRoute [PARTNER]
           â””â”€â”€ (layout) â†’ PartnerLayout
               â””â”€â”€ menu/form â†’ PartnerMenuFormPage

3. Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³:
   <RootLayout>
     <WebAppLayout>
       {isAuth && hasPartnerRole ? (
         <PartnerLayout>
           <Suspense>
             <PartnerMenuFormPage />
           </Suspense>
         </PartnerLayout>
       ) : (
         <Navigate to="/" />
       )}
     </WebAppLayout>
   </RootLayout>
```

## ğŸ¯ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Browser URL                        â”‚
â”‚            /webapp/partner/menu/form                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              React Router (useRoutes)                â”‚
â”‚   â€¢ ĞŸĞ°Ñ€ÑĞ¸Ñ‚ path                                      â”‚
â”‚   â€¢ ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´Ğ°ÑÑ‰Ğ¸Ğµ Ñ€Ğ¾ÑƒÑ‚Ñ‹                        â”‚
â”‚   â€¢ Ğ¡Ñ‚Ñ€Ğ¾Ğ¸Ñ‚ Ğ´ĞµÑ€ĞµĞ²Ğ¾ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ProtectedRoute                      â”‚
â”‚   â€¢ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ isAuth                                 â”‚
â”‚   â€¢ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ user.role                              â”‚
â”‚   â€¢ Ğ ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¸Ñ‚ Ğ¸Ğ»Ğ¸ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµÑ‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PartnerLayout                       â”‚
â”‚   â€¢ Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ Sidebar                                 â”‚
â”‚   â€¢ Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ Header                                  â”‚
â”‚   â€¢ Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ <Outlet /> Ğ´Ğ»Ñ Ğ´Ğ¾Ñ‡ĞµÑ€Ğ½Ğ¸Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Suspense                          â”‚
â”‚   â€¢ ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ fallback Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞµ                 â”‚
â”‚   â€¢ Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ lazy ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ĞºĞ¾Ğ³Ğ´Ğ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PartnerMenuFormPage (lazy)                â”‚
â”‚   â€¢ ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹                               â”‚
â”‚   â€¢ Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°                                    â”‚
â”‚   â€¢ UI                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§© Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        App                              â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              BrowserRouter                        â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚         ScrollToTop (on location change)    â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚          AppRouter (useRoutes)              â”‚ â”‚  â”‚
â”‚  â”‚  â”‚                                             â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  Routes Tree:                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ RootLayout                               â”‚ â”‚  â”‚
â”‚  â”‚  â”‚    â””â”€ WebAppLayout                          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚       â”œâ”€ SuperadminLayout (guarded)         â”‚ â”‚  â”‚
â”‚  â”‚  â”‚       â”œâ”€ PartnerLayout (guarded)            â”‚ â”‚  â”‚
â”‚  â”‚  â”‚       â””â”€ OrderLayout (guarded)              â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Module Dependencies

```
AppRouterNew
    â”‚
    â”œâ”€ routeConfigNew (config)
    â”‚   â”‚
    â”‚   â”œâ”€ Layouts
    â”‚   â”‚   â”œâ”€ RootLayout
    â”‚   â”‚   â”œâ”€ WebAppLayout
    â”‚   â”‚   â”œâ”€ SuperadminLayout
    â”‚   â”‚   â”œâ”€ PartnerLayout
    â”‚   â”‚   â””â”€ OrderLayout
    â”‚   â”‚
    â”‚   â”œâ”€ Guards
    â”‚   â”‚   â”œâ”€ ProtectedRoute
    â”‚   â”‚   â””â”€ PublicRoute
    â”‚   â”‚
    â”‚   â””â”€ Pages (lazy)
    â”‚       â”œâ”€ MainPage
    â”‚       â”œâ”€ SuperadminPages
    â”‚       â”œâ”€ PartnerPages
    â”‚       â””â”€ OrderPages
    â”‚
    â””â”€ utils
        â”œâ”€ ScrollToTop
        â””â”€ hooks
            â”œâ”€ useActiveRoute
            â”œâ”€ useBreadcrumbs
            â””â”€ useTypedParams
```

## ğŸ” Security Layers

```
Layer 1: Network Level
    â†“
Layer 2: Server Authentication
    â†“
Layer 3: React Router Guards â† ĞœĞ« Ğ—Ğ”Ğ•Ğ¡Ğ¬
    â†“
Layer 4: Component Level Checks
    â†“
Layer 5: API Request Level
```

**Ğ’Ğ°Ğ¶Ğ½Ğ¾**: Guards Ğ² React Router - ÑÑ‚Ğ¾ **UX layer**, Ğ½Ğµ security layer!  
Ğ ĞµĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ±Ñ‹Ñ‚ÑŒ Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ.

## ğŸ¨ Styling Strategy

```
Layout Level Styles:
â”œâ”€â”€ root-layout
â”‚   â””â”€â”€ Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸, ÑĞ±Ñ€Ğ¾ÑÑ‹
â”œâ”€â”€ webapp-layout
â”‚   â””â”€â”€ Main navigation, header, footer
â”œâ”€â”€ superadmin-layout
â”‚   â””â”€â”€ Admin sidebar, admin header
â”œâ”€â”€ partner-layout
â”‚   â””â”€â”€ Partner sidebar, partner header
â””â”€â”€ order-layout
    â””â”€â”€ Stepper, cart summary

Page Level Styles:
â””â”€â”€ Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ ÑÑ‚Ğ¸Ğ»Ğ¸
```

## ğŸ“ˆ Performance Optimization

```
1. Code Splitting (lazy loading)
   â”œâ”€â”€ ĞŸĞ¾ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼ (lazy(() => import(...)))
   â””â”€â”€ ĞŸĞ¾ ÑĞµĞºÑ†Ğ¸ÑĞ¼ (Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ chunks Ğ´Ğ»Ñ admin/partner/order)

2. Suspense Boundaries
   â”œâ”€â”€ Global (Ğ² AppRouter)
   â”œâ”€â”€ Layout level (Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Layout)
   â””â”€â”€ Component level (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

3. Route Prefetching (Ğ±ÑƒĞ´ÑƒÑ‰ĞµĞµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ğµ)
   â””â”€â”€ ĞŸÑ€ĞµĞ´Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ€Ğ¾ÑƒÑ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ hover Ğ½Ğ° ÑÑÑ‹Ğ»ĞºĞ°Ñ…
```

## ğŸ§ª Testing Strategy

```
1. Unit Tests
   â”œâ”€â”€ Guards (ProtectedRoute, PublicRoute)
   â”œâ”€â”€ Utils (hooks)
   â””â”€â”€ Route config validation

2. Integration Tests
   â”œâ”€â”€ Navigation flows
   â”œâ”€â”€ Auth redirects
   â””â”€â”€ Layout rendering

3. E2E Tests
   â”œâ”€â”€ User journeys
   â”œâ”€â”€ Role-based access
   â””â”€â”€ Full navigation flow
```

---

**Ğ’ĞµÑ€ÑĞ¸Ñ**: 1.0  
**Ğ”Ğ°Ñ‚Ğ°**: 2025-12-24  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ**: âœ… Production Ready
